The `/components/ui/__tests__` directory functions as the unit testing suite for the projectâ€™s shared user interface components. The architecture follows a decoupled testing pattern, utilizing a virtual DOM environment to validate component rendering, styling, and behavioral logic independently of the broader application state.

### Key File Roles

- **Button.test.tsx**: Validates the core `Button` component. It ensures that the component adheres to the design system by checking for specific utility classes (e.g., `bg-text-ink` and `text-canvas-bone`). It also verifies critical functional defaults, such as the suppression of automatic form submission by confirming the element defaults to `type="button"`.

### Dependencies and Integration

The testing environment is built on **Vitest** as the test runner and **React Testing Library** for DOM manipulation and assertions. The suite relies on the following key integrations:

- **Vitest**: Provides the `describe`, `it`, and `expect` APIs, as well as the `vi` utility for function mocking.
- **React Testing Library**: Facilitates component mounting via `render` and user interaction simulation through `fireEvent`.
- **Jest-DOM / CSS Assertions**: The tests perform explicit checks against the element's `classList`, indicating a dependency on consistent utility-first CSS class naming conventions within the UI components.

### Technical Gotchas

- **Style Coupling**: Tests are tightly coupled to specific CSS class names. Refactoring the design system's utility classes will require corresponding updates to the test assertions to prevent false negatives.
- **Event Simulation**: The suite uses `fireEvent` for interactions. For more complex user flows involving focus management or keyboard navigation, transition to `user-event` may be required to more accurately simulate browser behavior.
- **Form Context**: Functional tests for buttons include form-submission logic, requiring a mocked `onSubmit` handler and event prevention to verify default browser behavior overrides.
