The `/hooks` directory serves as the orchestration layer between the React UI and the backend services, encapsulating complex business logic, state machines, and side-effect management. The architecture relies on the Convex framework for data persistence and external API communication, utilizing a mix of standard React hooks and custom reducers to manage application state.

### Key File Roles

- **`useBookSearch.ts`**: Facilitates real-time book discovery by interfacing with the Open Library API via Convex actions. It implements a debounced search strategy (300ms) and enforces a minimum query length to optimize network traffic. The hook manages internal loading and error states while handling request cancellation to prevent race conditions during rapid input.
- **`useImportJob.ts`**: Manages a sophisticated multi-stage data ingestion pipeline (Parse → Preview → Commit). It utilizes a `useReducer` to track the state of bulk imports from CSV and Markdown sources. The hook coordinates file parsing, deduplication logic based on confidence scores, and paginated committing of records to the database.
- **`use-toast.ts`**: Provides a centralized notification system. Unlike standard hooks, it maintains a singleton-style state outside the React lifecycle with a subscription model to synchronize toast visibility across the application. It supports auto-dismissal, manual updates, and a strict display limit.

### Dependencies and Technical Constraints

- **Convex Integration**: The hooks are tightly coupled with `convex/react` and generated API types, specifically utilizing `useAction` for external API calls and `useMutation` (via passed-in functions) for database commits.
- **Data Parsing Strategy**: `useImportJob` relies on internal library utilities for CSV inference and Goodreads-specific parsing. A significant architectural detail is the mandatory use of LLM-based extraction for Markdown and text files; deterministic parsing is intentionally bypassed to handle the variability of arbitrary date formats and articulations.
- **Performance Optimization**: `useBookSearch` utilizes a custom `useDebounce` implementation to throttle API requests. `useImportJob` uses a `useRef` to track in-flight page preparations, ensuring that redundant network requests are not triggered during concurrent state updates.
- **State Management**: `use-toast` uses a global `memoryState` and a listener array to manage state across components, necessitating careful management of the `TOAST_REMOVE_DELAY` and the internal ID generator to prevent memory leaks or collisions.
