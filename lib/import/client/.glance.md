This directory contains client-side parsing logic designed to transform various file formats into a standardized internal representation for book data. The architecture follows a strategy pattern where specific parsers handle different input types—generic CSV, Goodreads-specific CSV exports, and structured Markdown—to produce a common `ParsedBook` output format.

### Key File Roles

- **`csvInfer.ts`**: Provides a flexible, generic CSV parser. It utilizes an alias-based lookup system to map various header naming conventions (e.g., "book_title" vs "name") to standard fields. It handles data normalization for ISBNs, boolean flags (audiobooks, favorites), and numeric values, while providing a summary of ignored columns and parsing errors.
- **`goodreads.ts`**: A specialized parser tailored for the specific schema of Goodreads CSV exports. It maps Goodreads-specific concepts like "Exclusive Shelf" to internal status types and handles specific date formats for "Date Read," while intentionally ignoring "Date Added" to maintain data integrity regarding reading progress.
- **`readingSummary.ts`**: Implements a deterministic, regex-driven parser for `READING_SUMMARY.md` files. It tracks state across Markdown headers (H2/H3) to establish context for book status (e.g., "Currently Reading" vs "Read") and infers completion dates by combining month/day tokens found in list items with the year defined in preceding headers.

### Architecture and Implementation Details

The directory relies on a shared set of utilities and types located in the parent directory, specifically for ID generation (`makeTempId`), string normalization (`collapseWhitespace`), and status mapping (`mapShelfToStatus`).

The CSV parsers (`csvInfer.ts` and `goodreads.ts`) share a custom, state-based CSV parsing implementation that handles quoted values and escaped characters without external library dependencies. Both parsers implement Byte Order Mark (BOM) stripping to ensure compatibility with files exported from various spreadsheet software.

### Important Dependencies and Gotchas

- **Internal Utilities**: The parsers are tightly coupled with `../types` for the `ParsedBook` interface and `../status` for converting external shelf names into the application's internal status enum.
- **Markdown Constraints**: The `readingSummary.ts` parser is highly sensitive to formatting. It requires specific header patterns and list structures (e.g., `- **Title** by Author`). It includes a "matched" flag in its result to signal when a file deviates from the expected format, allowing the system to fall back to alternative parsing methods (such as LLM-based extraction).
- **Date Handling**: Markdown date parsing is context-dependent; if a book is listed under a "Books by Year" section but lacks a specific year header, the parser will fail to generate a valid `dateFinished` timestamp.
- **CSV Parsing**: Both CSV-related files contain duplicate logic for `parseCsv`, `stripBom`, and `buildHeaderLookup`, indicating a shared structural pattern for tabular data ingestion.
