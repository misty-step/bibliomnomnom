The `/lib/releases` directory provides a structured system for ingesting, parsing, and formatting project release history. Its primary purpose is to transform `CHANGELOG.md` files—specifically those following the "Keep a Changelog" format and generated by `semantic-release`—into machine-readable data structures for use in UI components or LLM-based processing.

### Architecture

The directory follows a utility-centric architecture consisting of a type-definition layer and a functional parsing layer. The system is designed to handle the stateful nature of markdown parsing, where it must track the current version and change category (e.g., Features, Bug Fixes) while iterating through a file.

### Key File Roles

- **`types.ts`**: Defines the core data schema for the release system. It establishes the `Release` and `ChangelogEntry` interfaces, which capture metadata such as semantic versions, dates, scopes, PR numbers, and commit SHAs. It also contains the canonical ordering (`CHANGE_TYPE_ORDER`) and human-readable mappings for conventional commit types.
- **`parser.ts`**: Implements the logic for file ingestion and data extraction. It utilizes regular expressions to tokenize markdown headers and list items. Key functions include:
  - `parseChangelog`: The main entry point that reads a file and performs stateful line-by-line parsing.
  - `parseEntry`: A granular parser that extracts scopes, breaking change indicators, and metadata links from individual changelog lines.
  - `formatReleaseMarkdown`: A utility that re-serializes structured release data back into a simplified markdown format, grouped by change type.

### Dependencies and Gotchas

- **Format Strictness**: The parser is tightly coupled to specific markdown patterns. It expects version headers to follow the `## [1.0.0](url) (YYYY-MM-DD)` or `## 1.0.0 (YYYY-MM-DD)` format and change types to be defined as `###` headers.
- **Node.js Environment**: The system relies on the Node.js `fs` module for synchronous file reading (`readFileSync`), which may block the event loop in high-concurrency environments.
- **Breaking Changes**: Detection of breaking changes is dependent on the presence of specific string markers ("BREAKING CHANGE" or "!") within the description text.
- **Section Mapping**: The system uses a hardcoded `SECTION_TO_TYPE` map; any new or customized section headers in the changelog that are not present in this map will result in those changes being ignored during the parse.
